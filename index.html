<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>ðŸŒ±Dashboard Penyiraman Otomatis</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="style.css">
  <script src="https://unpkg.com/mqtt@4.3.7/dist/mqtt.min.js"></script>
</head>
<body>

<h1>ðŸŒ±Dashboard Penyiraman Otomatis</h1>

<div class="status-bar">
  MQTT Status:
  <span id="mqttStatus" class="offline">DISCONNECTED</span>
</div>

<div class="card">
  <h2>Kelembaban Tanah</h2>
  <div class="value"><span id="soil">--</span>%</div>
</div>

<div class="card">
  <h2>Monitoring Daya</h2>
  <p>Tegangan: <b><span id="volt">--</span> V</b></p>
  <p>Arus: <b><span id="current">--</span> mA</b></p>
  <p>Daya: <b><span id="power">--</span> W</b></p>
</div>

<div class="card">
  <h2>Set Point Kelembaban</h2>
  <div class="row">
    <input type="number" id="setLow" min="0" max="100" placeholder="LOW %">
    <input type="number" id="setHigh" min="0" max="100" placeholder="HIGH %">
  </div>
  <button class="btn set" onclick="updateSetpoint()">Update</button>
</div>

<div class="card">
  <h2>Status Sistem</h2>
  <p>Mode: <b id="mode">--</b></p>
  <p>Pompa: <b id="pump">--</b></p>

  <button class="btn mode" onclick="setAuto()">AUTO</button>
  <button class="btn mode" onclick="setManual()">MANUAL</button>
  <button class="btn on" onclick="pumpOn()">Pompa ON</button>
  <button class="btn off" onclick="pumpOff()">Pompa OFF</button>
</div>

<script src="script.js"></script>
</body>
</html>
